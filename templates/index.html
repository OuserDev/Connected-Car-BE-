<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Connected Car · SPA</title>
  
  <!-- Flask Static CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/tab-dashboard.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/tab-map.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/tab-control.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/tab-store.css') }}">

  <!-- NAVER Maps JS API v3 -->
  <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=8lna9tmjms&submodules=geocoder"></script>

</head>
<body>
  <div class="app">
    <header class="appbar">
      <h1>Connected Car</h1>
      <div class="badge" id="badgeAuth">게스트</div>
    </header>

    <main class="container">
      <!-- SPA 라우터가 이 영역에 탭별 화면을 렌더링 -->
      <div id="view" class="stack"></div>
    </main>
  </div>

  <!-- Bottom Tabs (SPA 해시 라우팅) -->
  <nav class="tabbar" role="tablist" aria-label="하단 탭">
    <a class="tab" href="#/main"    data-index="0" role="tab" aria-selected="true">
      <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 3l9 7-1.3 1.6L18 10.1V20h-5v-5H11v5H6v-9.9L4.3 11.6 3 10l9-7z"/></svg>
      <span>메인</span>
    </a>
    <a class="tab" href="#/map"     data-index="1" role="tab" aria-selected="false">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M15 4l6 2v14l-6-2-6 2-6-2V4l6 2 6-2zm0 2.2l-6 2-4-1.3v11.9l4 1.3 6-2 4 1.3V6.2L15 6.2z"/></svg>
      <span>지도</span>
    </a>
    <a class="tab" href="#/control" data-index="2" role="tab" aria-selected="false">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M7 3h10v2H7V3zm10 6H7v2h10V9zM7 15h10v2H7v-2z"/></svg>
      <span>제어</span>
    </a>
    <a class="tab" href="#/store"   data-index="3" role="tab" aria-selected="false">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 13h6v8H3v-8zm12-10h6v18h-6V3zM9 1h6v22H9V1z"/></svg>
      <span>스토어</span>
    </a>
    <a class="tab" href="#/settings" data-index="4" role="tab" aria-selected="false">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 8a4 4 0 110 8 4 4 0 010-8zm0-6l2 2 2.8-.7 1.4 2.5-2 2 .5 3.1 3 .9v2.8l-3 .9-.5 3.1 2 2-1.4 2.5-2.8-.7-2 2-2-2-2.8.7L5.8 20l2-2-.5-3.1-3-.9V11l3-.9.5-3.1-2-2L7.2 2.3 10 3l2-2z"/></svg>
      <span>설정</span>
    </a>
  </nav>

  <!-- 공통 로그인 다이얼로그 / 토스트 -->
  <div class="scrim" id="dlgScrim" aria-hidden="true">
    <div class="dialog" role="dialog" aria-modal="true" aria-labelledby="dlgTitle">
      <div class="kicker" id="dlgTitle">로그인</div>
      <div class="field"><label for="id">아이디</label><input id="id" placeholder="admin" autocomplete="username"></div>
      <div class="field"><label for="pw">비밀번호</label><input id="pw" type="password" placeholder="passwd" autocomplete="current-password"></div>
      <div class="row">
        <button class="btn brand" id="btnLoginDo">로그인</button>
        <button class="btn ghost" id="btnLoginCancel">취소</button>
        <div class="spacer"></div><div class="muted">테스트: <b>admin / passwd</b></div>
      </div>
    </div>
  </div>
  <div class="toast" id="toast"></div>

  <!-- SPA 스크립트 -->
  <script type="module" src="{{ url_for('static', filename='js/app.js') }}"></script>

</body>
</html>